!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).rexbbcodetext=e();}(undefined,(function(){function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(r=n.key,s=void 0,"symbol"==typeof(s=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return ("string"===e?String:Number)(t)}(r,"string"))?s:String(s)),n);}var r,s;
/**
   * @author       Richard Davey <rich@photonstorm.com>
   * @copyright    2019 Photon Storm Ltd.
   * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
   */}function n(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e);}function s(t){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},s(t)}function a(t,e){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},a(t,e)}function o(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}();return function(){var i,n=s(t);if(e){var r=s(this).constructor;i=Reflect.construct(n,arguments,r);}else i=n.apply(this,arguments);return function(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return o(t)}(this,i)}}function l(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return u(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return u(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var c=Phaser.Renderer.WebGL.Utils,f={renderWebGL:function(t,e,i,n){if(0!==e.width&&0!==e.height){i.addToRenderList(e);var r=e.frame,s=r.width,a=r.height,o=c.getTintAppendFloatAlpha,h=t.pipelines.set(e.pipeline,e),l=h.setTexture2D(r.glTexture,e);t.pipelines.preBatch(e),h.batchTexture(e,r.glTexture,s,a,e.x,e.y,s/e.style.resolution,a/e.style.resolution,e.scaleX,e.scaleY,e.rotation,e.flipX,e.flipY,e.scrollFactorX,e.scrollFactorY,e.displayOriginX,e.displayOriginY,0,0,s,a,o(e.tintTopLeft,i.alpha*e._alphaTL),o(e.tintTopRight,i.alpha*e._alphaTR),o(e.tintBottomLeft,i.alpha*e._alphaBL),o(e.tintBottomRight,i.alpha*e._alphaBR),e.tintFill,0,0,i,n,!1,l),t.pipelines.postBatch(e);}},renderCanvas:function(t,e,i,n){0!==e.width&&0!==e.height&&(i.addToRenderList(e),t.batchSprite(e,e.frame,i,n));}},d=Phaser.Display.Canvas.CanvasPool,g=function(t){r(s,t);var i=h(s);function s(){return e(this,s),i.apply(this,arguments)}return n(s,[{key:"setStyle",value:function(t){return this.style.setStyle(t)}},{key:"setFont",value:function(t){return this.style.setFont(t)}},{key:"setFontFamily",value:function(t){return this.style.setFontFamily(t)}},{key:"setFontSize",value:function(t){return this.style.setFontSize(t)}},{key:"setFontStyle",value:function(t){return this.style.setFontStyle(t)}},{key:"setTestString",value:function(t){return this.style.setTestString(t)}},{key:"setFixedSize",value:function(t,e){return this.style.setFixedSize(t,e)}},{key:"setBackgroundColor",value:function(t,e,i){return this.style.setBackgroundColor(t,e,i)}},{key:"setBackgroundStrokeColor",value:function(t,e){return this.style.setBackgroundStrokeColor(t,e)}},{key:"setBackgroundCornerRadius",value:function(t,e){return this.style.setBackgroundCornerRadius(t,e)}},{key:"setFill",value:function(t){return this.style.setFill(t)}},{key:"setColor",value:function(t){return this.style.setColor(t)}},{key:"setStroke",value:function(t,e){return this.style.setStroke(t,e)}},{key:"setShadow",value:function(t,e,i,n,r,s){return this.style.setShadow(t,e,i,n,r,s)}},{key:"setShadowOffset",value:function(t,e){return this.style.setShadowOffset(t,e)}},{key:"setShadowColor",value:function(t){return this.style.setShadowColor(t)}},{key:"setShadowBlur",value:function(t){return this.style.setShadowBlur(t)}},{key:"setShadowStroke",value:function(t){return this.style.setShadowStroke(t)}},{key:"setShadowFill",value:function(t){return this.style.setShadowFill(t)}},{key:"setWrapMode",value:function(t){return this.style.setWrapMode(t)}},{key:"setWrapWidth",value:function(t){return this.style.setWrapWidth(t)}},{key:"setWordWrapWidth",value:function(t){return this.style.setWrapWidth(t)}},{key:"setAlign",value:function(t){return this.style.setHAlign(t)}},{key:"setHAlign",value:function(t){return this.style.setHAlign(t)}},{key:"setVAlign",value:function(t){return this.style.setVAlign(t)}},{key:"setLineSpacing",value:function(t){return this.style.setLineSpacing(t)}},{key:"lineSpacing",get:function(){return this.style.lineSpacing},set:function(t){this.setLineSpacing(t);}},{key:"setXOffset",value:function(t){return this.style.setXOffset(t)}},{key:"setMaxLines",value:function(t){return this.style.setMaxLines(t)}},{key:"setResolution",value:function(t){return this.style.setResolution(t)}},{key:"getTextMetrics",value:function(){return this.style.getTextMetrics()}},{key:"setTextMetrics",value:function(t,e){return this.style.setTextMetrics(t,e)}},{key:"measureTextMargins",value:function(t,e){return function(t,e,i){void 0===i&&(i={});var n=d.create(this),r=n.getContext("2d",{willReadFrequently:!0});t.syncFont(n,r);var s=r.measureText(e),a=Math.ceil(s.width*t.baselineX),o=a,h=2*o;if(o=o*t.baselineY|0,n.width=a,n.height=h,r.fillStyle="#f00",r.fillRect(0,0,a,h),r.font=t._font,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText(t.testString,0,o),i.left=0,0===a||0===h||!r.getImageData(0,0,a,h))return d.remove(n),i;for(var l=r.getImageData(0,0,a,h).data,u=!1,c=0;c<a;c++){for(var f=0;f<h;f++)if(255!==l[4*(f*a+c)]){i.left=c,u=!0;break}if(u)break}return d.remove(n),i}(this.style,t,e)}}]),s}(Phaser.GameObjects.GameObject),p=Phaser.GameObjects.Components;Phaser.Class.mixin(g,[p.Alpha,p.BlendMode,p.ComputedSize,p.Crop,p.Depth,p.Flip,p.GetBounds,p.Mask,p.Origin,p.Pipeline,p.PostPipeline,p.ScrollFactor,p.Tint,p.Transform,p.Visible,f]);var y=Phaser.Utils.String.Pad,v=function(e,i,n){if(null==e)return e;switch(t(e)){case"string":default:return e;case"number":return "#".concat(y(Math.floor(e).toString(16),6,"0",1));case"function":return e(i,n);case"object":return e.hasOwnProperty("r")?e.hasOwnProperty("a")?"rgba(".concat(e.r,",").concat(e.g,",").concat(e.b,",").concat(e.a,")"):"rgb(".concat(e.r,",").concat(e.g,",").concat(e.b,")"):e.hasOwnProperty("h")?e.hasOwnProperty("a")?"hsla(".concat(e.h,",").concat(e.s,",").concat(e.l,",").concat(e.a,")"):"hsl(".concat(e.h,",").concat(e.s,",").concat(e.l,")"):e}},k={backgroundColor:["backgroundColor",null,v],backgroundColor2:["backgroundColor2",null,v],backgroundHorizontalGradient:["backgroundHorizontalGradient",!0,null],backgroundStrokeColor:["backgroundStrokeColor",null,v],backgroundStrokeLineWidth:["backgroundStrokeLineWidth",2,null],backgroundCornerRadius:["backgroundCornerRadius",0,null],backgroundCornerIteration:["backgroundCornerIteration",null,null],fontFamily:["fontFamily","Courier",null],fontSize:["fontSize","16px",null],fontStyle:["fontStyle","",null],color:["color","#fff",v],stroke:["stroke","#fff",v],strokeThickness:["strokeThickness",0,null],shadowOffsetX:["shadow.offsetX",0,null],shadowOffsetY:["shadow.offsetY",0,null],shadowColor:["shadow.color","#000",v],shadowBlur:["shadow.blur",0,null],shadowStroke:["shadow.stroke",!1,null],shadowFill:["shadow.fill",!1,null],underlineColor:["underline.color","#000",v],underlineThickness:["underline.thickness",0,null],underlineOffset:["underline.offset",0,null],strikethroughColor:["strikethrough.color","#000",v],strikethroughThickness:["strikethrough.thickness",0,null],strikethroughOffset:["strikethrough.offset",0,null],halign:["halign","left",null],valign:["valign","top",null],maxLines:["maxLines",0,null],fixedWidth:["fixedWidth",0,null],fixedHeight:["fixedHeight",0,null],resolution:["resolution",0,null],lineSpacing:["lineSpacing",0,null],xOffset:["xOffset",0,null],rtl:["rtl",!1,null],testString:["testString","|MÃ‰qgy",null],baselineX:["baselineX",1.2,null],baselineY:["baselineY",1.4,null],wrapMode:["wrap.mode",0,null],wrapWidth:["wrap.width",0,null],wrapCallback:["wrap.callback",null],wrapCallbackScope:["wrap.callbackScope",null]},x=Phaser.Display.Canvas.CanvasPool,w=function(t){var e=x.create(this),i=e.getContext("2d",{willReadFrequently:!0});t.syncFont(e,i);var n=i.measureText(t.testString);if("actualBoundingBoxAscent"in n){var r=n.actualBoundingBoxAscent,s=n.actualBoundingBoxDescent,a={ascent:r,descent:s,fontSize:r+s};return x.remove(e),a}var o=Math.ceil(n.width*t.baselineX),h=o,l=2*h;h=h*t.baselineY|0,e.width=o,e.height=l,i.fillStyle="#f00",i.fillRect(0,0,o,l),i.font=t._font,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(t.testString,0,h);a={ascent:0,descent:0,fontSize:0};if(!i.getImageData(0,0,o,l))return a.ascent=h,a.descent=h+6,a.fontSize=a.ascent+a.descent,x.remove(e),a;var u,c,f=i.getImageData(0,0,o,l).data,d=f.length,g=4*o,p=0,y=!1;for(u=0;u<h;u++){for(c=0;c<g;c+=4)if(255!==f[p+c]){y=!0;break}if(y)break;p+=g;}for(a.ascent=h-u,p=d-g,y=!1,u=l;u>h;u--){for(c=0;c<g;c+=4)if(255!==f[p+c]){y=!0;break}if(y)break;p-=g;}return a.descent=u-h,a.fontSize=a.ascent+a.descent,x.remove(e),a},S=0,E=1,T=2,O=0,m=1,R=2,_=/(?:\r\n|\r|\n)/,P=Phaser.Utils.Objects.GetAdvancedValue,b=Phaser.Utils.Objects.GetValue,C=function(){function t(i,n,r){e(this,t),this.parent=i,void 0===r&&(r=k),this.propertyMap=r,this.backgroundColor,this.backgroundColor2,this.backgroundHorizontalGradient,this.backgroundStrokeColor,this.backgroundStrokeLineWidth,this.backgroundCornerRadius,this.backgroundCornerIteration,this.fontFamily,this.fontSize,this.fontStyle,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.underlineColor,this.underlineThickness,this.underlineOffset,this.strikethroughColor,this.strikethroughThickness,this.strikethroughOffset,this.halign,this.valign,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.lineSpacing,this.xOffset,this.rtl,this.testString,this.baselineX,this.baselineY,this.wrapMode,this.wrapWidth,this.wrapCallback,this.wrapCallbackScope,this._font,this.setStyle(n,!1,!0);}return n(t,[{key:"isWrapFitMode",get:function(){return this.fixedWidth>0&&this.wrapMode!==O&&0===this.wrapWidth}},{key:"setStyle",value:function(t,e,i){if(void 0===e&&(e=!0),void 0===i&&(i=!1),t&&t.hasOwnProperty("wrap")){var n=t.wrap;if(n.hasOwnProperty("mode")){var r=n.mode;"string"==typeof r&&(n.mode=M[r]);}else n.hasOwnProperty("width")&&(n.mode=1);}t&&t.rtl&&i&&!t.hasOwnProperty("halign")&&(t.halign="right"),t&&t.hasOwnProperty("fontSize")&&"number"==typeof t.fontSize&&(t.fontSize=t.fontSize.toString()+"px");var s=this.propertyMap;for(var a in s){var o=s[a],h=o[0],l=i?o[1]:this[a],u=o[2];if("wrapCallback"===a||"wrapCallbackScope"===a)this[a]=b(t,h,l);else {var c=P(t,h,l);u&&(c=u(c)),this[a]=c;}}var f=b(t,"font",null);this._font=null===f?this.fontStyle+" "+this.fontSize+" "+this.fontFamily:f;var d=b(t,"fill",null);null!==d&&(this.color=v(d));var g=b(t,"metrics",!1);return g?this.metrics={ascent:b(g,"ascent",0),descent:b(g,"descent",0),fontSize:b(g,"fontSize",0)}:!e&&this.metrics||(this.metrics=w(this)),e?this.parent.updateText():this.parent}},{key:"syncFont",value:function(t,e){e.font=this._font;}},{key:"syncStyle",value:function(t,e){e.textBaseline="alphabetic",e.fillStyle=this.color,e.strokeStyle=this.stroke,e.lineWidth=this.strokeThickness,e.lineCap="round",e.lineJoin="round";}},{key:"syncShadow",value:function(t,e){e?(t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY,t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur):(t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowColor=0,t.shadowBlur=0);}},{key:"update",value:function(t){return t&&(this._font="".concat(this.fontStyle," ").concat(this.fontSize," ").concat(this.fontFamily).trim(),this.metrics=w(this)),this.parent.updateText(t)}},{key:"buildFont",value:function(){var t="".concat(this.fontStyle," ").concat(this.fontSize," ").concat(this.fontFamily).trim();return t!==this._font&&(this._font=t),this}},{key:"setFont",value:function(t){return "string"==typeof t?(this.fontFamily=t,this.fontSize="",this.fontStyle=""):(this.fontFamily=b(t,"fontFamily","Courier"),this.fontSize=b(t,"fontSize","16px"),this.fontStyle=b(t,"fontStyle","")),this.update(!0)}},{key:"setFontFamily",value:function(t){return this.fontFamily=t,this.update(!0)}},{key:"setFontStyle",value:function(t){return this.fontStyle=t,this.update(!0)}},{key:"setFontSize",value:function(t){return "number"==typeof t&&(t=t.toString()+"px"),this.fontSize=t,this.update(!0)}},{key:"setTestString",value:function(t){return this.testString=t,this.update(!0)}},{key:"setFixedSize",value:function(t,e){return this.fixedWidth=t,this.fixedHeight=e,t&&(this.parent.width=t),e&&(this.parent.height=e),this.update(this.isWrapFitMode)}},{key:"setResolution",value:function(t){return this.resolution=t,this.update(!1)}},{key:"setLineSpacing",value:function(t){return this.lineSpacing=t,this.update(!1)}},{key:"setXOffset",value:function(t){return this.xOffset=t,this.update(!1)}},{key:"setBackgroundColor",value:function(t,e,i){return void 0===i&&(i=!0),this.backgroundColor=v(t,this.parent.canvas,this.parent.context),this.backgroundColor2=v(e,this.parent.canvas,this.parent.context),this.backgroundHorizontalGradient=i,this.update(!1)}},{key:"setBackgroundStrokeColor",value:function(t,e){return this.backgroundStrokeColor=v(t,this.parent.canvas,this.parent.context),this.backgroundStrokeLineWidth=e,this.update(!1)}},{key:"setBackgroundCornerRadius",value:function(t,e){return this.backgroundCornerRadius=t,this.backgroundCornerIteration=e,this.update(!1)}},{key:"setFill",value:function(t){return this.color=v(t,this.parent.canvas,this.parent.context),this.update(!1)}},{key:"setColor",value:function(t){return this.color=v(t,this.parent.canvas,this.parent.context),this.update(!1)}},{key:"setStroke",value:function(t,e){return void 0===t?this.strokeThickness=0:(void 0===e&&(e=this.strokeThickness),this.stroke=v(t,this.parent.canvas,this.parent.context),this.strokeThickness=e),this.update(!0)}},{key:"setShadow",value:function(t,e,i,n,r,s){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i="#000"),void 0===n&&(n=0),void 0===r&&(r=!1),void 0===s&&(s=!0),this.shadowOffsetX=t,this.shadowOffsetY=e,this.shadowColor=v(i,this.parent.canvas,this.parent.context),this.shadowBlur=n,this.shadowStroke=r,this.shadowFill=s,this.update(!1)}},{key:"setShadowOffset",value:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.shadowOffsetX=t,this.shadowOffsetY=e,this.update(!1)}},{key:"setShadowColor",value:function(t){return void 0===t&&(t="#000"),this.shadowColor=v(t,this.parent.canvas,this.parent.context),this.update(!1)}},{key:"setShadowBlur",value:function(t){return void 0===t&&(t=0),this.shadowBlur=t,this.update(!1)}},{key:"setShadowStroke",value:function(t){return this.shadowStroke=t,this.update(!1)}},{key:"setShadowFill",value:function(t){return this.shadowFill=t,this.update(!1)}},{key:"setUnderline",value:function(t,e,i){return void 0===t&&(t="#000"),void 0===e&&(e=0),void 0===i&&(i=0),this.underlineColor=v(t,this.parent.canvas,this.parent.context),this.underlineThickness=e,this.underlineOffset=i,this.update(!1)}},{key:"setUnderlineColor",value:function(t){return void 0===t&&(t="#000"),this.underlineColor=v(t,this.parent.canvas,this.parent.context),this.update(!1)}},{key:"setUnderlineThickness",value:function(t){return void 0===t&&(t=0),this.underlineThickness=t,this.update(!1)}},{key:"setUnderlineOffset",value:function(t){return void 0===t&&(t=0),this.underlineOffset=t,this.update(!1)}},{key:"setStrikethrough",value:function(t,e,i){return void 0===t&&(t="#000"),void 0===e&&(e=0),void 0===i&&(i=0),this.strikethroughColor=v(t,this.parent.canvas,this.parent.context),this.strikethroughThickness=e,this.strikethroughOffset=i,this.update(!1)}},{key:"setStrikethroughColor",value:function(t){return void 0===t&&(t="#000"),this.strikethroughColor=v(t,this.parent.canvas,this.parent.context),this.update(!1)}},{key:"setStrikethroughThickness",value:function(t){return void 0===t&&(t=0),this.strikethroughThickness=t,this.update(!1)}},{key:"setStrikethroughOffset",value:function(t){return void 0===t&&(t=0),this.strikethroughOffset=t,this.update(!1)}},{key:"setWrapMode",value:function(t){return "string"==typeof t&&(t=M[t.toLowerCase()]||0),this.wrapMode=t,this.update(!0)}},{key:"setWrapWidth",value:function(t){return this.wrapWidth=t,this.update(!1)}},{key:"setAlign",value:function(t,e){return void 0===t&&(t="left"),void 0===e&&(e="top"),this.halign=t,this.valign=e,this.update(!1)}},{key:"setHAlign",value:function(t){return void 0===t&&(t="left"),this.halign=t,this.update(!1)}},{key:"setVAlign",value:function(t){return void 0===t&&(t="top"),this.valign=t,this.update(!1)}},{key:"setMaxLines",value:function(t){return void 0===t&&(t=0),this.maxLines=t,this.update(!1)}},{key:"getTextMetrics",value:function(){var t=this.metrics;return {ascent:t.ascent,descent:t.descent,fontSize:t.fontSize}}},{key:"setTextMetrics",value:function(t,e){return this.metrics.ascent=t.ascent,this.metrics.descent=t.descent,this.metrics.fontSize=t.fontSize,e&&("string"==typeof e?(this.fontFamily=e,this.fontSize="",this.fontStyle=""):(this.fontFamily=b(e,"fontFamily",this.fontFamily),this.fontSize=b(e,"fontSize",this.fontSize),this.fontStyle=b(e,"fontStyle",this.fontStyle))),this.parent.updateText(!0)}},{key:"lineHeight",get:function(){return this.metrics.fontSize+this.strokeThickness+this.lineSpacing}},{key:"toJSON",value:function(){var t={},e=this.propertyMap;for(var i in e)t[i]=this[i];return t.metrics=this.getTextMetrics(),t}},{key:"destroy",value:function(){this.parent=void 0;}}]),t}(),M={none:O,word:m,char:R,character:R},L=Phaser.Utils.Objects.GetValue,A=function(){function t(i,n,r,s,a){e(this,t),void 0===i&&(i=0),void 0===n&&(n=i),void 0===r&&(r=0),void 0===s&&(s=0),void 0===a&&(a=0),this.cornerRadius={},this._width=0,this._height=0,this.setTo(i,n,r,s,a);}return n(t,[{key:"setTo",value:function(t,e,i,n,r){return this.setPosition(t,e),this.setRadius(r),this.setSize(i,n),this}},{key:"setPosition",value:function(t,e){return this.x=t,this.y=e,this}},{key:"setRadius",value:function(t){return void 0===t&&(t=0),this.radius=t,this}},{key:"setSize",value:function(t,e){return this.width=t,this.height=e,this}},{key:"minWidth",get:function(){var t=this.cornerRadius;return Math.max(t.tl.x+t.tr.x,t.bl.x+t.br.x)}},{key:"minHeight",get:function(){var t=this.cornerRadius;return Math.max(t.tl.y+t.bl.y,t.tr.y+t.br.y)}},{key:"width",get:function(){return this._width},set:function(t){null==t&&(t=0),this._width=Math.max(t,this.minWidth);}},{key:"height",get:function(){return this._height},set:function(t){null==t&&(t=0),this._height=Math.max(t,this.minHeight);}},{key:"radius",get:function(){var t=this.cornerRadius;return Math.max(t.tl.x,t.tl.y,t.tr.x,t.tr.y,t.bl.x,t.bl.y,t.br.x,t.br.y)},set:function(t){var e,i;"number"==typeof t?(e=t,i=t):(e=L(t,"x",0),i=L(t,"y",0));var n=this.cornerRadius;n.tl=F(L(t,"tl",void 0),e,i),n.tr=F(L(t,"tr",void 0),e,i),n.bl=F(L(t,"bl",void 0),e,i),n.br=F(L(t,"br",void 0),e,i);}},{key:"radiusTL",get:function(){var t=this.cornerRadius.tl;return Math.max(t.x,t.y)},set:function(t){I(this.cornerRadius.tl,t);}},{key:"radiusTR",get:function(){var t=this.cornerRadius.tr;return Math.max(t.x,t.y)},set:function(t){I(this.cornerRadius.tr,t);}},{key:"radiusBL",get:function(){var t=this.cornerRadius.bl;return Math.max(t.x,t.y)},set:function(t){I(this.cornerRadius.bl,t);}},{key:"radiusBR",get:function(){var t=this.cornerRadius.br;return Math.max(t.x,t.y)},set:function(t){I(this.cornerRadius.br,t);}}]),t}(),F=function(t,e,i){return void 0===t?t={x:e,y:i}:"number"==typeof t&&(t={x:t,y:t}),W(t),t},I=function(t,e){"number"==typeof e?(t.x=e,t.y=e):(t.x=L(e,"x",0),t.y=L(e,"y",0)),W(t);},W=function(t){t.convex=t.x>=0||t.y>=0,t.x=Math.abs(t.x),t.y=Math.abs(t.y);},N=Phaser.Math.DegToRad,H=function(t){return !t.hasOwnProperty("convex")||t.convex},z=function(t){return t.x>0&&t.y>0},B=function(t,e,i,n,r,s,a,o,h){if(o&&a>s?a-=360:!o&&a<s&&(a+=360),s=N(s),a=N(a),null==h)t.ellipse(e,i,n,r,0,s,a,o);else for(var l,u,c,f=(a-s)/(h+=1),d=0;d<=h;d++)c=s+f*d,l=e+n*Math.cos(c),u=i+r*Math.sin(c),t.lineTo(l,u);},j=function(t,e,i,n,r,s,a,o,h,l,u,c,f){if(function(t,e,i,n,r,s,a){var o,h,l,u=new A(e,i,n,r,s),c=u.minWidth,f=u.minHeight,d=n>=c?1:n/c,g=r>=f?1:r/f,p=u.cornerRadius;t.save(),t.beginPath(),t.translate(e,i),o=p.tl,z(o)?(h=o.x*d,l=o.y*g,H(o)?B(t,h,l,h,l,180,270,!1,a):B(t,0,0,h,l,90,0,!0,a)):t.lineTo(0,0),o=p.tr,z(o)?(h=o.x*d,l=o.y*g,H(o)?B(t,n-h,l,h,l,270,360,!1,a):B(t,n,0,h,l,180,90,!0,a)):t.lineTo(n,0),o=p.br,z(o)?(h=o.x*d,l=o.y*g,H(o)?B(t,n-h,r-l,h,l,0,90,!1,a):B(t,n,r,h,l,270,180,!0,a)):t.lineTo(n,r),o=p.bl,z(o)?(h=o.x*d,l=o.y*g,H(o)?B(t,h,r-l,h,l,90,180,!1,a):B(t,0,r,h,l,360,270,!0,a)):t.lineTo(0,r),t.closePath(),t.restore();}(e,i,n,r,s,a,f),null!=o){var d;if(null!=u)(d=c?e.createLinearGradient(0,0,r,0):e.createLinearGradient(0,0,0,s)).addColorStop(0,o),d.addColorStop(1,u),o=d;e.fillStyle=o,e.fill();}null!=h&&l>0&&(e.strokeStyle=h,e.lineWidth=l,e.stroke());},G={draw:function(t,e,i,n){var r=this.penManager;this.hitAreaManager.clear();var s=this.context;s.save();var a=this.defaultStyle;this.clear(),function(t,e,i,n,r,s,a,o){if(null!=e||null!=i){var h=t.canvas.width,l=t.canvas.height;null==i&&(n=0);var u=n/2;h=Math.max(1,h-n),l=Math.max(1,l-n),j(t.canvas,t.context,u,u,h,l,r,e,i,n,s,a,o);}}(this,a.backgroundColor,a.backgroundStrokeColor,a.backgroundStrokeLineWidth,a.backgroundCornerRadius,a.backgroundColor2,a.backgroundHorizontalGradient,a.backgroundCornerIteration),t+=this.startXOffset,e+=this.startYOffset;var o,h,l,u,c,f,d=a.halign,g=a.valign,p=a.lineHeight,y=r.lines,v=y.length,k=a.maxLines;k>0&&v>k?(h=k,l="center"===g?Math.floor((v-h)/2):"bottom"===g?v-h:0):(h=v,l=0),u=l+h;var x=this.rtl,w=x?this.parent.width:void 0;f="center"===g?Math.max((n-h*p)/2,0):"bottom"===g?Math.max(n-h*p-2,0):0,f+=e;for(var S=l;S<u;S++)if(0!==(o=r.getLineWidth(S))){for(var E=y[S],T=E.length,O=d,m=0;m<T;m++){var R=E[m].prop.align;if(void 0!==R){O=R;break}}c="center"===O?(i-o)/2:"right"===O?x?0:i-o:x?i-o:0,c+=t;for(m=0;m<T;m++)this.drawPen(E[m],c,f,w);}s.restore();},drawPen:function(t,e,i,n){e+=t.x,i+=t.y+(t.prop.y||0),void 0!==n&&(e=n-e);var r=this.canvas,s=this.context;s.save();var a=this.parser.propToContextStyle(this.defaultStyle,t.prop);if(a.buildFont(),a.syncFont(r,s),a.syncStyle(r,s),a.underlineThickness>0&&t.width>0){var o=i+a.underlineOffset-a.underlineThickness/2;this.drawLine(e,o,t.width,a.underlineThickness,a.underlineColor);}if(t.isTextPen&&this.drawText(e,i,t.text,a),t.isImagePen&&this.drawImage(e,i,t.prop.img,a),a.strikethroughThickness>0&&t.width>0){o=i+a.strikethroughOffset-a.strikethroughThickness/2;this.drawLine(e,o,t.width,a.strikethroughThickness,a.strikethroughColor);}if(s.restore(),t.hasAreaMarker&&t.width>0){var h,l=t.prop.area;if(l)h={key:l};else {var u=t.prop.url;h={key:"url:".concat(u),url:u};}this.hitAreaManager.add(e,i-this.startYOffset,t.width,this.defaultStyle.lineHeight,h);}},clear:function(){var t=this.canvas;this.context.clearRect(0,0,t.width,t.height);},drawLine:function(t,e,i,n,r){this.autoRound&&(t=Math.round(t),e=Math.round(e));var s=this.context,a=s.lineCap;s.lineCap="butt",s.strokeStyle=r,s.lineWidth=n,s.beginPath(),s.moveTo(t,e),s.lineTo(t+i,e),s.stroke(),s.lineCap=a;},drawText:function(t,e,i,n){this.autoRound&&(t=Math.round(t),e=Math.round(e));var r=this.context;n.stroke&&"none"!==n.stroke&&n.strokeThickness>0&&(n.syncShadow(r,n.shadowStroke),r.strokeText(i,t,e)),n.color&&"none"!==n.color&&(n.syncShadow(r,n.shadowFill),r.fillText(i,t,e));},drawImage:function(t,e,i,n){e-=this.startYOffset,this.parent.imageManager.draw(i,this.context,t,e,this.autoRound);}},D=Phaser.Utils.Objects.GetValue,X=S,U=E,Y=function(){function t(i){e(this,t),this.prop={},this.resetFromJSON(i);}return n(t,[{key:"resetFromJSON",value:function(t){this.text=D(t,"text",""),this.x=D(t,"x",0),this.y=D(t,"y",0),this.width=D(t,"width",0);var e=D(t,"prop",null);null===e&&(e={}),this.prop=e,this.newLineMode=D(t,"newLineMode",0),this.startIndex=D(t,"startIndex",0);}},{key:"plainText",get:function(){var t=this.text;return this.newLineMode===U&&(t+="\n"),t}},{key:"wrapText",get:function(){var t=this.text;return this.newLineMode!==X&&(t+="\n"),t}},{key:"rawTextLength",get:function(){var t=this.text.length;return this.newLineMode===U&&(t+=1),t}},{key:"endIndex",get:function(){return this.startIndex+this.rawTextLength}},{key:"lastX",get:function(){return this.x+this.width}},{key:"isTextPen",get:function(){return ""!==this.text}},{key:"isImagePen",get:function(){return !!this.prop.img}},{key:"hasAreaMarker",get:function(){return !!this.prop.area||!!this.prop.url}}]),t}(),K=function(e){if("object"!==t(e)||null===e)return e;if(Array.isArray(e))e.length=0;else for(var i in e)delete e[i];return e},V=function(t,e){var i=Array.isArray(t);if(void 0===e?e=i?[]:{}:K(e),i){e.length=t.length;for(var n=0,r=t.length;n<r;n++)e[n]=t[n];}else for(var s in t)e[s]=t[s];return e},J=function(){},q=Phaser.Utils.Objects.GetFastValue,Z=S,$=T,Q=function(){function t(i){e(this,t),this.pens=[],this.lines=[],this.maxLinesWidth=void 0,this.pensPool=i.pensPool,this.linesPool=i.linesPool,this.tagToText=q(i,"tagToText",J),this.tagToTextScope=q(i,"tagToTextScope",void 0);}return n(t,[{key:"destroy",value:function(){this.clear(),this.tagToText=void 0,this.tagToTextScope=void 0;}},{key:"clear",value:function(){for(var t=0,e=this.lines.length;t<e;t++)this.lines[t].length=0;this.pensPool.pushMultiple(this.pens),this.linesPool.pushMultiple(this.lines),this.maxLinesWidth=void 0;}},{key:"addTextPen",value:function(t,e,i,n,r,s){var a=this.pensPool.pop();return null==a&&(a=new Y),tt.text=t,tt.x=e,tt.y=i,tt.width=n,tt.prop=r,tt.newLineMode=s,a.resetFromJSON(tt),this.addPen(a),this}},{key:"addImagePen",value:function(t,e,i,n){return this.addTextPen("",t,e,i,n,Z),this}},{key:"addNewLinePen",value:function(){var t=this.lastPen,e=t?t.lastX:0,i=t?t.y:0,n=t?V(t.prop):null;return this.addTextPen("",e,i,0,n,$),this}},{key:"addPen",value:function(t){var e=this.lastPen;t.startIndex=null==e?0:e.endIndex,this.pens.push(t);var i=this.lastLine;null==i&&(i=this.linesPool.pop()||[],this.lines.push(i)),i.push(t),t.newLineMode!==Z&&(i=this.linesPool.pop()||[],this.lines.push(i)),this.maxLinesWidth=void 0;}},{key:"clone",value:function(e){null==e&&(e=new t),e.clear();for(var i=0,n=this.lines.length;i<n;i++)for(var r=this.lines[i],s=0,a=r.length;s<a;s++){var o=r[s];e.addPen(o.text,o.x,o.y,o.width,V(o.prop),o.newLineMode);}return e}},{key:"lastPen",get:function(){return this.pens[this.pens.length-1]}},{key:"lastLine",get:function(){return this.lines[this.lines.length-1]}},{key:"getLineStartIndex",value:function(t){if(t>=this.lines.length)return this.getLineEndIndex(t);var e=this.lines[t];return e&&e[0]?e[0].startIndex:0}},{key:"getLineEndIndex",value:function(t){t>=this.lines.length&&(t=this.lines.length-1);var e,i,n=!1;for(e=t;e>=0&&!(n=null!=(i=this.lines[e])&&i.length>0);e--);return n?i[i.length-1].endIndex:0}},{key:"getLineWidth",value:function(t){var e=this.lines[t];if(!e)return 0;var i=e[e.length-1];return null==i?0:i.lastX}},{key:"getMaxLineWidth",value:function(){if(void 0!==this.maxLinesWidth)return this.maxLinesWidth;for(var t,e=0,i=0,n=this.lines.length;i<n;i++)(t=this.getLineWidth(i))>e&&(e=t);return this.maxLinesWidth=e,e}},{key:"getLineWidths",value:function(){for(var t=[],e=0,i=this.lines.length;e<i;e++)t.push(this.getLineWidth(e));return t}},{key:"linesCount",get:function(){return this.lines.length}},{key:"plainText",get:function(){for(var t="",e=this.pens,i=0,n=e.length;i<n;i++)t+=e[i].plainText;return t}},{key:"rawTextLength",get:function(){for(var t=0,e=this.pens,i=0,n=this.pens.length;i<n;i++)t+=e[i].rawTextLength;return t}},{key:"getSliceTagText",value:function(t,e,i){if(void 0===t&&(t=0),void 0===e){var n=this.lastPen;if(null==n)return "";e=n.endIndex;}void 0===i&&(i=!1);for(var r,s,a,o,h,l,u="",c=0,f=this.pens.length;c<f&&((o=(r=this.pens[c]).endIndex)<=t||(r=this.pens[c],s=i?r.wrapText:r.plainText,h=r.prop,(a=r.startIndex)>=t&&o<=e||(s=s.substring(t-a,e-a)),this.tagToTextScope?u+=this.tagToText.call(this.tagToTextScope,s,h,l):u+=this.tagToText(s,h,l),l=h,!(o>=e)));c++);return u}},{key:"length",get:function(){return this.lines.length},set:function(t){this.clear();}}]),t}(),tt={},et=function(){function t(){e(this,t),this.items=[];}return n(t,[{key:"destroy",value:function(){this.clear(),this.items=void 0;}},{key:"pop",value:function(){return this.items.length>0?this.items.pop():null}},{key:"push",value:function(t){return this.items.push(t),this}},{key:"pushMultiple",value:function(t){return this.items.push.apply(this.items,t),t.length=0,this}},{key:"clear",value:function(){return this.items.length=0,this}}]),t}(),it=Phaser.Geom.Rectangle,nt=new et,rt=function(){function t(){e(this,t),this.hitAreas=[];}return n(t,[{key:"destroy",value:function(){this.clear();}},{key:"clear",value:function(){for(var t=0,e=this.hitAreas.length;t<e;t++)K(this.hitAreas[t].data);return nt.pushMultiple(this.hitAreas),this}},{key:"add",value:function(t,e,i,n,r){var s=nt.pop();return null===s?s=new it(t,e,i,n):s.setTo(t,e,i,n),s.data=r,this.hitAreas.push(s),this}},{key:"getFirst",value:function(t,e){for(var i=0,n=this.hitAreas.length;i<n;i++){var r=this.hitAreas[i];if(r.contains(t,e))return r}return null}},{key:"getByKey",value:function(t){for(var e=0,i=this.hitAreas.length;e<i;e++){var n=this.hitAreas[e];if(n.data.key===t)return n}return null}},{key:"drawBounds",value:function(t,e,i){void 0===e&&(e=16777215),i&&t.save().scaleCanvas(i.scaleX,i.scaleY).rotateCanvas(i.rotation).translateCanvas(i.x,i.y);for(var n=0,r=this.hitAreas.length;n<r;n++){var s=this.hitAreas[n];t.lineStyle(1,e).strokeRect(s.x,s.y,s.width,s.height);}return i&&t.restore(),this}}]),t}(),st=function(t,e,i,n){var r=this.hitAreaManager.getFirst(e,i);if(null!==r){var s=r.data.key;ht.call(this,"areadown",s,t,e,i,n),r.data.isDown=!0;}},at=function(t,e,i,n){var r=this.hitAreaManager.getFirst(e,i);if(null!==r){var s=r.data,a=s.key;if(ht.call(this,"areaup",a,t,e,i,n),s.isDown){ht.call(this,"areaclick",a,t,e,i,n);var o=s.url;o&&window.open(o,"_blank");}s.isDown=!1;}},ot=function(t,e,i,n){if(null!==e){var r=this.hitAreaManager.getFirst(e,i),s=r?r.data.key:null;if(this.lastHitAreaKey!==s){if(null!==this.lastHitAreaKey){ht.call(this,"areaout",this.lastHitAreaKey,t,e,i,n);var a=this.hitAreaManager.getByKey(this.lastHitAreaKey);this.urlTagCursorStyle&&a.data.url&&(this.scene.input.manager.canvas.style.cursor=""),a.isDown=!1;}null!==s&&(ht.call(this,"areaover",s,t,e,i,n),this.urlTagCursorStyle&&r.data.url&&(this.scene.input.manager.canvas.style.cursor=this.urlTagCursorStyle)),this.lastHitAreaKey=s;}}else null!==this.lastHitAreaKey&&(ht.call(this,"areaout",this.lastHitAreaKey,t,e,i,n),this.hitAreaManager.getByKey(this.lastHitAreaKey).isDown=!1,this.lastHitAreaKey=null);},ht=function(t,e,i,n,r,s){this.parent.emit("".concat(t,"-").concat(e),i,n,r,s),this.parent.emit(t,e,i,n,r,s);},lt=S,ut=E,ct=T,ft=O,dt=m,gt=R,pt=_,yt=function t(e,i,n,r,s,a){r<=0&&(n=ft);var o=[];if(!e||!e.length)return o;for(var h,u,c,f=n===ft,d=n===dt,g=e.split(pt),p=0,y=g.length;p<y;p++)if(h=g[p],c=p===y-1?lt:ut,f){var v=i(h);o.push(a.getLine(h,v,c));}else {var k,x,w,S,E;if(u=0===p?r-s:r,h.length<=100)if((v=i(h))<=u){o.push(a.getLine(h,v,c));continue}d?(x=""===(k=h.split(" "))[k.length-1])&&(k.length-=1):k=h;for(var T,O="",m=0,R=d?i(" "):void 0,_=0,P=k.length;_<P;_++)if(S=i(w=k[_]),E=_===P-1,!d||E&&!x||(w+=" ",S+=R),d&&S>r){""!==O?o.push(a.getLine(O,m,ct)):0===_&&s>0&&o.push(a.getLine("",0,ct)),o.push.apply(o,l(t(w,i,gt,r,0,a)));var b=o.pop();O=b.text,m=b.width,a.freeLine(b)," "===O&&(O="",m=0);}else (T=m+S)>u?(o.push(a.getLine(O,m,ct)),O=w,m=S,u=r):(O+=w,m=T),E&&o.push(a.getLine(O,m,c));}return o},vt=Phaser.Utils.Objects.GetValue,kt=O,xt=S,wt=function(){function t(i){e(this,t),this.parent=i.parent,this.scene=this.parent.scene,this.context=vt(i,"context",null),this.canvas=this.context.canvas,this.parser=vt(i,"parser",null),this.defaultStyle=vt(i,"style",null),this.autoRound=!0,this.pensPool=i.pensPool,this.linesPool=i.linesPool,this.wrapTextLinesPool=i.wrapTextLinesPool,this.penManager=this.newPenManager(),this._tmpPenManager=null,this.hitAreaManager=new rt,this.lastHitAreaKey=null,this.urlTagCursorStyle=null;var n=this.context;this.getTextWidth=function(t){return n.measureText(t).width};}return n(t,[{key:"destroy",value:function(){this.parent=void 0,this.scene=void 0,this.context=void 0,this.canvas=void 0,this.parser=void 0,this.defaultStyle=void 0,this.penManager&&(this.penManager.destroy(),this.penManager=void 0),this._tmpPenManager&&(this._tmpPenManager.destroy(),this._tmpPenManager=void 0),this.hitAreaManager&&(this.hitAreaManager.destroy(),this.hitAreaManager=void 0),this.pensPool=void 0,this.linesPool=void 0,this.wrapTextLinesPool=void 0;}},{key:"updatePenManager",value:function(t,e,i,n,r){if(void 0===r&&(r=this.penManager),r.clear(),""===t)return r;var s=this.parent.style;if(s.isWrapFitMode){var a=this.parent.padding;i=s.fixedWidth-a.left-a.right;}for(var o,h,l,u,c,f=this.canvas,d=this.context,g=function(t){return d.measureText(t).width},p=0,y=0,v=s.wrapCallback,k=s.wrapCallbackScope,x=!0,w=this.parser.splitText(t),S=this.wrapTextLinesPool,E=0,T=w.length;E<T;E++)if(o=(u=this.parser.tagTextToProp(w[E],h)).plainText,(h=u.prop).img){var O=this.imageManager.getOuterWidth(h.img);i>0&&e!==kt&&i<p+O&&(r.addNewLinePen(),y+=n,p=0),r.addImagePen(p,y,O,V(h)),p+=O;}else if(""!==o){if(d.save(),(l=this.parser.propToContextStyle(this.defaultStyle,h)).buildFont(),l.syncFont(f,d),l.syncStyle(f,d),v){"string"==typeof(c=v.call(k,o,g,i,p))&&(c=c.split("\n"));for(var m=0,R=c.length;m<R;m++)"string"==typeof(_=c[m])?c[m]=S.getLine(_,g(_),m<R-1?2:0):x=!1;}else c=yt(o,g,e,i,p,S);var _;for(m=0,R=c.length;m<R;m++)_=c[m],r.addTextPen(_.text,p,y,_.width,V(h),_.newLineMode),_.newLineMode!==xt?(p=0,y+=n):p+=_.width;x&&S.freeLines(c),c=null,d.restore();}for(E=0,T=this.lines.length;E<T;E++){var P=this.lines[E],b=P[P.length-1];b&&(b.width+=this.parser.getStrokeThinkness(this.defaultStyle,b.prop));}return r}},{key:"startXOffset",get:function(){var t=this.defaultStyle;return t.strokeThickness/2+t.xOffset}},{key:"startYOffset",get:function(){var t=this.defaultStyle;return t.strokeThickness/2+t.metrics.ascent}},{key:"lines",get:function(){return this.penManager.lines}},{key:"desplayLinesCount",get:function(){var t=this.penManager.linesCount,e=this.defaultStyle.maxLines;return e>0&&t>e&&(t=e),t}},{key:"linesWidth",get:function(){return Math.ceil(this.penManager.getMaxLineWidth())}},{key:"linesHeight",get:function(){var t=this.desplayLinesCount,e=this.defaultStyle.lineHeight*t;return t>0&&(e-=this.defaultStyle.lineSpacing),e}},{key:"imageManager",get:function(){return this.parent.imageManager}},{key:"rtl",get:function(){return this.parent.style.rtl}},{key:"newPenManager",value:function(){return new Q({pensPool:this.pensPool,linesPool:this.linesPool,tagToText:this.parser.propToTagText,tagToTextScope:this.parser})}},{key:"tmpPenManager",get:function(){return null===this._tmpPenManager&&(this._tmpPenManager=this.newPenManager()),this._tmpPenManager}},{key:"getPlainText",value:function(t,e,i){var n;if(null==t)n=this.penManager.plainText;else {var r=this.parser.splitText(t,1);n="";for(var s=0,a=r.length;s<a;s++)n+=r[s];}return null==e&&null==i||(null==e&&(e=0),null==i&&(i=n.length),n=n.substring(e,i)),n}},{key:"getPenManager",value:function(t,e){if(void 0===t)return this.copyPenManager(e,this.penManager);void 0===e&&(e=this.newPenManager());var i=this.defaultStyle;return this.updatePenManager(t,i.wrapMode,i.wrapWidth,i.lineHeight,e),e}},{key:"getText",value:function(t,e,i,n){if(null==t)return this.penManager.getSliceTagText(e,i,n);var r=this.tmpPenManager,s=this.defaultStyle;return this.updatePenManager(t,s.wrapMode,s.wrapWidth,s.lineHeight,r),r.getSliceTagText(e,i,n)}},{key:"copyPenManager",value:function(t,e){return void 0===e&&(e=this.penManager),e.copy(t)}},{key:"getTextWidth",value:function(t){return void 0===t&&(t=this.penManager),t.getMaxLineWidth()}},{key:"getLastPen",value:function(t){return void 0===t&&(t=this.penManager),t.lastPen}}]),t}(),St={setInteractive:function(){this.parent.on("pointerdown",st,this).on("pointerup",at,this).on("pointermove",ot,this).on("pointerover",ot,this).on("pointerout",(function(t,e){ot.call(this,t,null,null,e);}),this);}};Object.assign(wt.prototype,G,St);var Et=function(t){r(s,t);var i=h(s);function s(){return e(this,s),i.apply(this,arguments)}return n(s,[{key:"freeLine",value:function(t){if(t)return this.push(t),this}},{key:"freeLines",value:function(t){if(t)return this.pushMultiple(t),this}},{key:"getLine",value:function(t,e,i){var n=this.pop();return null===n&&(n={}),n.text=t,n.width=e,n.newLineMode=i,n}}]),s}(et),Tt=Phaser.Utils.Objects.IsPlainObject,Ot=Phaser.Utils.Objects.GetValue,mt=function(t,e){Tt(t)?t=(e=t).key:void 0===e&&(e={key:t}),e.hasOwnProperty("key")||(e.key=t);var i=e.key,n=e.frame,r=e.width,s=e.height;if(void 0===r||void 0===s){var a=this.textureManager.getFrame(i,n),o=a?a.cutWidth:0,h=a?a.cutHeight:0;void 0===r&&void 0===s?(r=o,s=h):void 0===r?r=o*(s/h):void 0===s&&(s=h*(r/o));}this.images[t]={key:i,frame:n,width:r,height:s,y:Ot(e,"y",0),left:Ot(e,"left",0),right:Ot(e,"right",0),originX:Ot(e,"originX",0),originY:Ot(e,"originY",0)};},Rt=function(){function t(i){e(this,t),this.textureManager=i.sys.textures,this.images={};}return n(t,[{key:"destroy",value:function(){this.textureManager=void 0,this.images=void 0;}},{key:"add",value:function(t,e){if("string"==typeof t)mt.call(this,t,e);else if(Array.isArray(t))for(var i=0,n=(r=t).length;i<n;i++)mt.call(this,r[i]);else {var r=t;for(var t in r)mt.call(this,t,r[t]);}return this}},{key:"has",value:function(t){return this.images.hasOwnProperty(t)}},{key:"remove",value:function(t){return this.has(t)&&delete this.images[t],this}},{key:"get",value:function(t){return this.has(t)||this.textureManager.exists(t)&&this.add(t),this.images[t]}},{key:"getOuterWidth",value:function(t){var e=this.get(t);return e?e.width+e.left+e.right:0}},{key:"getFrame",value:function(t){var e=this.get(t);return e?this.textureManager.getFrame(e.key,e.frame):void 0}},{key:"hasTexture",value:function(t){return !!this.getFrame(t)}}]),t}(),_t={draw:function(t,e,i,n,r){var s=this.get(t),a=this.textureManager.getFrame(s.key,s.frame),o=s.width,h=s.height;i+=s.left-s.originX*o,n+=s.y-s.originY*h,r&&(i=Math.round(i),n=Math.round(n)),e.drawImage(a.source.image,a.cutX,a.cutY,a.cutWidth,a.cutHeight,i,n,o,h);}};Object.assign(Rt.prototype,_t);var Pt=Phaser.Utils.Objects.IsPlainObject,bt=Phaser.DOM.AddToDOM,Ct=Phaser.Display.Canvas.CanvasPool,Mt=Phaser.GameObjects.GameObject,Lt=Phaser.Utils.Objects.GetValue,At=Phaser.DOM.RemoveFromDOM,Ft=_,It=null,Wt=null,Nt=null,Ht=function(i){r(a,i);var s=h(a);function a(t,i,n,r,h,l,u){var c;if(e(this,a),Pt(i)){var f=i;i=Lt(f,"x",0),n=Lt(f,"y",0),r=Lt(f,"text",""),h=Lt(f,"style");}if(void 0===i&&(i=0),void 0===n&&(n=0),(c=s.call(this,t,l)).renderer=t.sys.game.renderer,c.setPosition(i,n),c.setOrigin(0,0),c.initPipeline(),c.canvas=Ct.create(o(c)),c.context=c.canvas.getContext("2d",{willReadFrequently:!0}),c._imageManager=void 0,h){if(h.hasOwnProperty("align")){var d=h.align;delete h.align,h.halign=d;}h.hasOwnProperty("stroke")&&!h.hasOwnProperty("strokeThickness")&&(h.strokeThickness=1);}c.style=new C(o(c),h);var g,p,y,v=Lt(h,"images",void 0);return v&&c.addImage(v),c.autoRound=!0,c._text=void 0,c.padding={left:0,right:0,top:0,bottom:0},c.width=1,c.height=1,c.dirty=!1,0===c.style.resolution&&(c.style.resolution=1),c._crop=c.resetCropObject(),c.texture=t.sys.textures.addCanvas(null,c.canvas,!0),c.frame=c.texture.get(),c.frame.source.resolution=c.style.resolution,c.renderer&&c.renderer.gl&&(c.renderer.deleteTexture(c.frame.source.glTexture),c.frame.source.glTexture=null),Lt(h,"sharedPool",!0)?(It||(It={},Wt=new et,Nt=new Et,c.scene.game.events.once("destroy",(function(){It=null,Wt=null,Nt=null;}))),It.hasOwnProperty(l)||(It[l]=new et),g=It[l],p=Wt,y=Nt):(g=new et,p=new et,y=new Et),c.canvasText=new wt({parent:o(c),context:c.context,parser:u,style:c.style,pensPool:g,linesPool:p,wrapTextLinesPool:y}),c.parser=u,c.initRTL(),h&&h.padding&&c.setPadding(h.padding),c.setText(r),c.setUrlTagCursorStyle(Lt(h,"urlTagCursorStyle","pointer")),Lt(h,"interactive",!1)&&c.setInteractive(),c}return n(a,[{key:"preDestroy",value:function(){At(this.canvas),this.canvasText.destroy(),this.canvasText=void 0,this._imageManager&&(this._imageManager.destroy(),this._imageManager=void 0),Ct.remove(this.canvas),this.texture.destroy();}},{key:"text",get:function(){return this._text},set:function(t){this.setText(t);}},{key:"initRTL",value:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",bt(this.canvas,this.scene.sys.canvas),this.originX=1);}},{key:"setRTL",value:function(t){void 0===t&&(t=!0);var e=this.style;if(e.rtl===t)return this;if(e.rtl=t,t?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",bt(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),"left"===e.halign?e.halign="right":"right"===e.halign&&(e.halign="left"),this._imageManager){var i=this._imageManager.images;for(var n in i)i[n].originX=1-i[n].originX;}return this}},{key:"setText",value:function(t){return (t=null==t?"":Array.isArray(t)?t.join("\n"):t.toString())===this._text||(this._text=t,this.updateText()),this}},{key:"setPadding",value:function(e,i,n,r){if("object"===t(e)){var s=e,a=Lt(s,"x",null);null!==a?(e=a,n=a):(e=Lt(s,"left",0),n=Lt(s,"right",e));var o=Lt(s,"y",null);null!==o?(i=o,r=o):(i=Lt(s,"top",0),r=Lt(s,"bottom",i));}else void 0===e&&(e=0),void 0===i&&(i=e),void 0===n&&(n=e),void 0===r&&(r=i);return this.padding.left=e,this.padding.top=i,this.padding.right=n,this.padding.bottom=r,this.updateText(!1)}},{key:"updateText",value:function(t){void 0===t&&(t=!0);var e=this.canvasText,i=this.style;t&&e.updatePenManager(this._text,i.wrapMode,i.wrapWidth,i.lineHeight);var n,r,s=this.padding,a=Math.ceil(e.linesWidth);0===i.fixedWidth?(this.width=a+s.left+s.right,n=a):(this.width=i.fixedWidth,(n=this.width-s.left-s.right)<a&&(n=a)),0===i.fixedHeight?(this.height=e.linesHeight+s.top+s.bottom,r=e.linesHeight):(this.height=i.fixedHeight,(r=this.height-s.top-s.bottom)<e.linesHeight&&(r=e.linesHeight));var o=this.width,h=this.height;this.updateDisplayOrigin();var l=i.resolution;o*=l,h*=l,o=Math.max(Math.ceil(o),1),h=Math.max(Math.ceil(h),1);var u=this.canvas,c=this.context;u.width!==o||u.height!==h?(u.width=o,u.height=h,this.frame.setSize(o,h)):c.clearRect(0,0,o,h),c.save(),c.scale(l,l);var f=this.style.rtl?s.right:s.left,d=s.top;e.draw(f,d,n,r),c.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(u,this.frame.source.glTexture,!0),this.frame.glTexture=this.frame.source.glTexture),this.dirty=!0;var g=this.input;return g&&!g.customHitArea&&(g.hitArea.width=this.width,g.hitArea.height=this.height),this}},{key:"toJSON",value:function(){var t=Components.ToJSON(this),e={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),resolution:this.resolution,padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return t.data=e,t}},{key:"setInteractive",value:function(t,e,i){var n=!!this.input;return Mt.prototype.setInteractive.call(this,t,e,i),n||this.canvasText.setInteractive(),this}},{key:"setUrlTagCursorStyle",value:function(t){return this.urlTagCursorStyle=t,this}},{key:"urlTagCursorStyle",get:function(){return this.canvasText.urlTagCursorStyle},set:function(t){this.canvasText.urlTagCursorStyle=t;}},{key:"getWrappedText",value:function(t,e,i){return (t=this.canvasText.getText(t,e,i,!0)).split(Ft)}},{key:"getPlainText",value:function(t,e,i){return this.canvasText.getPlainText(t,e,i)}},{key:"getText",value:function(t,e,i,n){return void 0===n&&(n=!1),this.canvasText.getText(t,e,i,n)}},{key:"getSubString",value:function(t,e,i){return this.getText(t,e,i)}},{key:"copyPenManager",value:function(t){return this.canvasText.copyPenManager(t)}},{key:"getPenManager",value:function(t,e){return this.canvasText.getPenManager(t,e)}},{key:"setSize",value:function(t,e){return this.setFixedSize(t,e)}},{key:"resize",value:function(t,e){return this.setFixedSize(t,e)}},{key:"imageManager",get:function(){return this._imageManager||(this._imageManager=new Rt(this.scene)),this._imageManager}},{key:"addImage",value:function(t,e){return this.imageManager.add(t,e),this}},{key:"drawAreaBounds",value:function(t,e){return this.canvasText.hitAreaManager.drawBounds(t,e,this),this}},{key:"generateTexture",value:function(t,e,i,n,r){var s=this.canvas;return void 0===n?n=s.width:n*=this.resolution,void 0===r?r=s.height:r*=this.resolution,function(t,e,i,n,r,s,a){var o,h=t.sys.textures,l=t.renderer;void 0===n&&(n=0),void 0===r&&(r=0),void 0===s&&(s=e.width),void 0===a&&(a=e.height);var u=(o=h.exists(i)?h.get(i):h.createCanvas(i,s,a)).getSourceImage();u.width!==s&&(u.width=s),u.height!==a&&(u.height=a);var c=u.getContext("2d",{willReadFrequently:!0});c.clearRect(0,0,s,a),c.drawImage(e,n,r,s,a),l.gl&&o&&l.canvasToTexture(u,o.source[0].glTexture,!0,0);}(this.scene,s,t,e,i,n,r),this}}]),a}(g),zt={appendText:function(t,e){var i;return t||0===t||(t=""),void 0===e&&(e=!0),Array.isArray(t)&&(t=t.join("\n")),(i=e?"".concat(this.text,"\n").concat(t):"".concat(this.text).concat(t))!=this.text&&this.setText(i),this}};Object.assign(Ht.prototype,zt);var Bt,jt,Gt=!1,Dt=!0,Xt={plainText:null,prevProp:null},Ut=function(t,e,i,n){return e===Dt?t[i]=n:t.hasOwnProperty(i)&&delete t[i],t},Yt=function(t){var e=t.b,i=t.weight,n=t.i;return e||i||n?n?e?"bold italic":i?"".concat(i," italic"):"italic":e?"bold":i.toString():""},Kt=new C,Vt={},Jt=function(t){return t.replace(qt,"\\$&").replace(Zt,"\\x2d")},qt=/[|\\{}()[\]^$+*?.]/g,Zt=/-/g,$t={},Qt=function(t,e,i,n){return void 0===n?"".concat(t).concat(i).concat(e):"".concat(t).concat(i,"=(").concat(n,")").concat(e)},te=function(t,e,i){return "".concat(t,"/").concat(i).concat(e)},ee="[-.0-9]+",ie="[a-z]+|#[0-9abcdef]+",ne="[^\\]]+",re=function(t,e){if(void 0===e){var i=t;t=i[0],e=i[1];}if(Bt===t&&jt===e)return !1;Bt=t,jt=e,t=Jt(t),e=Jt(e);var n=Qt(t,e,"esc"),r=te(t,e,"esc"),s=Qt(t,e,"raw"),a=te(t,e,"raw"),o=Qt(t,e,"b"),h=te(t,e,"b"),l=Qt(t,e,"i"),u=te(t,e,"i"),c="weight",f=Qt(t,e,c,ee),d=te(t,e,c),g="size",p=Qt(t,e,g,ee),y=te(t,e,g),v="color",k=Qt(t,e,v,ie),x=te(t,e,v),w=Qt(t,e,"u"),S=Qt(t,e,"u",ie),E=te(t,e,"u"),T=Qt(t,e,"s"),O=Qt(t,e,"s",ie),m=te(t,e,"s"),R="shadow",_=Qt(t,e,R),P=te(t,e,R),b="stroke",C=Qt(t,e,b),M=Qt(t,e,b,ie),L=te(t,e,b),A=Qt(t,e,"y",ee),F=te(t,e,"y"),I=Qt(t,e,"img",ne),W=te(t,e,"img"),N="area",H=Qt(t,e,N,ne),z=te(t,e,N),B=Qt(t,e,"url",ne),j=te(t,e,"url"),G="align",D=Qt(t,e,G,ne),X=te(t,e,G);return $t.RE_ESC_OPEN=new RegExp(n,"i"),$t.RE_ESC_CLOSE=new RegExp(r,"i"),$t.RE_RAW_OPEN=new RegExp(s,"i"),$t.RE_RAW_CLOSE=new RegExp(a,"i"),$t.RE_BLOD_OPEN=new RegExp(o,"i"),$t.RE_BLOD_CLOSE=new RegExp(h,"i"),$t.RE_ITALICS_OPEN=new RegExp(l,"i"),$t.RE_ITALICS_CLOSE=new RegExp(u,"i"),$t.RE_WEIGHT_OPEN=new RegExp(f,"i"),$t.RE_WEIGHT_CLOSE=new RegExp(d,"i"),$t.RE_SIZE_OPEN=new RegExp(p,"i"),$t.RE_SIZE_CLOSE=new RegExp(y,"i"),$t.RE_COLOR_OPEN=new RegExp(k,"i"),$t.RE_COLOR_CLOSE=new RegExp(x,"i"),$t.RE_UNDERLINE_OPEN=new RegExp(w,"i"),$t.RE_UNDERLINE_OPENC=new RegExp(S,"i"),$t.RE_UNDERLINE_CLOSE=new RegExp(E,"i"),$t.RE_STRIKETHROUGH_OPEN=new RegExp(T,"i"),$t.RE_STRIKETHROUGH_OPENC=new RegExp(O,"i"),$t.RE_STRIKETHROUGH_CLOSE=new RegExp(m,"i"),$t.RE_SHADOW_OPEN=new RegExp(_,"i"),$t.RE_SHADOW_CLOSE=new RegExp(P,"i"),$t.RE_STROKE_OPEN=new RegExp(C,"i"),$t.RE_STROKE_OPENC=new RegExp(M,"i"),$t.RE_STROKE_CLOSE=new RegExp(L,"i"),$t.RE_OFFSETY_OPEN=new RegExp(A,"i"),$t.RE_OFFSETY_CLOSE=new RegExp(F,"i"),$t.RE_IMAGE_OPEN=new RegExp(I,"i"),$t.RE_IMAGE_CLOSE=new RegExp(W,"i"),$t.RE_AREA_OPEN=new RegExp(H,"i"),$t.RE_AREA_CLOSE=new RegExp(z,"i"),$t.RE_URL_OPEN=new RegExp(B,"i"),$t.RE_URL_CLOSE=new RegExp(j,"i"),$t.RE_ALIGN_OPEN=new RegExp(D,"i"),$t.RE_ALIGN_CLOSE=new RegExp(X,"i"),$t.RE_SPLITTEXT=new RegExp([s,a,n,r,o,h,l,u,f,d,p,y,k,x,w,S,E,T,O,m,_,P,C,M,L,A,F,I,W,H,z,B,j,D,X].join("|"),"ig"),!0},se=function(t,e){return void 0!==t&&re(t,e),Object.assign({},$t)},ae=Phaser.Utils.Objects.GetValue,oe=function(){function t(i){e(this,t);var n=ae(i,"delimiters","[]");this.tagRegex=se(n),this.delimiters=n;}return n(t,[{key:"getStrokeThinkness",value:function(t,e){return e.hasOwnProperty("stroke")?t.strokeThickness:0}},{key:"setDelimiters",value:function(t,e){return re(t,e)&&(this.tagRegex=se()),this}}]),t}(),he={splitText:function(t,e){for(var i=this.tagRegex,n=[],r=0,s=!1,a=!1;;){var o=i.RE_SPLITTEXT.exec(t);if(!o)break;var h=o[0];if(a){if(!i.RE_ESC_CLOSE.test(h))continue;a=!1;}else if(s){if(!i.RE_RAW_CLOSE.test(h))continue;s=!1;}else i.RE_ESC_OPEN.test(h)?a=!0:i.RE_RAW_OPEN.test(h)&&(s=!0);var l=i.RE_SPLITTEXT.lastIndex,u=l-h.length;if(r<u){var c=t.substring(r,u);n.push(c);}void 0===e&&n.push(h),r=l;}var f=t.length;return r<f&&n.push(t.substring(r,f)),n},tagTextToProp:function(t,e){var i=this.tagRegex;null==e&&(e={});var n="";if(e.img&&Ut(e,Gt,"img"),e.esc)i.RE_ESC_CLOSE.test(t)?Ut(e,Gt,"esc"):n=t;else if(e.raw)i.RE_RAW_CLOSE.test(t)?Ut(e,Gt,"raw"):n=t;else if(i.RE_ESC_OPEN.test(t))Ut(e,Dt,"esc",!0);else if(i.RE_ESC_CLOSE.test(t))Ut(e,Gt,"esc");else if(i.RE_RAW_OPEN.test(t))Ut(e,Dt,"raw",!0);else if(i.RE_RAW_CLOSE.test(t))Ut(e,Gt,"raw");else if(i.RE_BLOD_OPEN.test(t))Ut(e,Dt,"b",!0);else if(i.RE_BLOD_CLOSE.test(t))Ut(e,Gt,"b");else if(i.RE_ITALICS_OPEN.test(t))Ut(e,Dt,"i",!0);else if(i.RE_ITALICS_CLOSE.test(t))Ut(e,Gt,"i");else if(i.RE_WEIGHT_OPEN.test(t)){var r=t.match(i.RE_WEIGHT_OPEN);Ut(e,Dt,"weight",r[1]);}else if(i.RE_WEIGHT_CLOSE.test(t))Ut(e,Gt,"weight");else if(i.RE_SIZE_OPEN.test(t)){r=t.match(i.RE_SIZE_OPEN);Ut(e,Dt,"size","".concat(r[1],"px"));}else if(i.RE_SIZE_CLOSE.test(t))Ut(e,Gt,"size");else if(i.RE_COLOR_OPEN.test(t)){r=t.match(i.RE_COLOR_OPEN);Ut(e,Dt,"color",r[1]);}else if(i.RE_COLOR_CLOSE.test(t))Ut(e,Gt,"color");else if(i.RE_UNDERLINE_OPEN.test(t))Ut(e,Dt,"u",!0);else if(i.RE_UNDERLINE_OPENC.test(t)){r=t.match(i.RE_UNDERLINE_OPENC);Ut(e,Dt,"u",r[1]);}else if(i.RE_UNDERLINE_CLOSE.test(t))Ut(e,Gt,"u");else if(i.RE_STRIKETHROUGH_OPEN.test(t))Ut(e,Dt,"s",!0);else if(i.RE_STRIKETHROUGH_OPENC.test(t)){r=t.match(i.RE_STRIKETHROUGH_OPENC);Ut(e,Dt,"s",r[1]);}else if(i.RE_STRIKETHROUGH_CLOSE.test(t))Ut(e,Gt,"s");else if(i.RE_SHADOW_OPEN.test(t))Ut(e,Dt,"shadow",!0);else if(i.RE_SHADOW_CLOSE.test(t))Ut(e,Gt,"shadow");else if(i.RE_STROKE_OPEN.test(t))Ut(e,Dt,"stroke",!0);else if(i.RE_STROKE_OPENC.test(t)){r=t.match(i.RE_STROKE_OPENC);Ut(e,Dt,"stroke",r[1]);}else if(i.RE_STROKE_CLOSE.test(t))Ut(e,Gt,"stroke");else if(i.RE_OFFSETY_OPEN.test(t)){r=t.match(i.RE_OFFSETY_OPEN);Ut(e,Dt,"y",parseFloat(r[1]));}else if(i.RE_OFFSETY_CLOSE.test(t))Ut(e,Gt,"y");else if(i.RE_IMAGE_OPEN.test(t)){r=t.match(i.RE_IMAGE_OPEN);Ut(e,Dt,"img",r[1]);}else if(i.RE_IMAGE_CLOSE.test(t))Ut(e,Gt,"img");else if(i.RE_AREA_OPEN.test(t)){r=t.match(i.RE_AREA_OPEN);Ut(e,Dt,"area",r[1]);}else if(i.RE_AREA_CLOSE.test(t))Ut(e,Gt,"area");else if(i.RE_URL_OPEN.test(t)){r=t.match(i.RE_URL_OPEN);Ut(e,Dt,"url",r[1]);}else if(i.RE_URL_CLOSE.test(t))Ut(e,Gt,"url");else if(i.RE_ALIGN_OPEN.test(t)){r=t.match(i.RE_ALIGN_OPEN);Ut(e,Dt,"align",r[1]);}else i.RE_ALIGN_CLOSE.test(t)?Ut(e,Gt,"align"):n=t;var s=Xt;return s.plainText=n,s.prop=e,s},propToContextStyle:function(t,e){var i=Kt;if(e.hasOwnProperty("img"))i.image=e.img;else {if(i.image=null,e.hasOwnProperty("family")?i.fontFamily=e.family:i.fontFamily=t.fontFamily,e.hasOwnProperty("size")){var n=e.size;"number"==typeof n&&(n="".concat(n,"px")),i.fontSize=n;}else i.fontSize=t.fontSize;i.fontStyle=Yt(e),e.hasOwnProperty("color")?i.color=e.color:i.color=t.color,e.hasOwnProperty("stroke")?!0===e.stroke?(i.stroke=t.stroke,i.strokeThickness=t.strokeThickness):(i.stroke=e.stroke,i.strokeThickness=t.strokeThickness):(i.stroke=t.stroke,i.strokeThickness=0);}return e.hasOwnProperty("shadow")?!0===e.shadow?(i.shadowColor=t.shadowColor,i.shadowOffsetX=t.shadowOffsetX,i.shadowOffsetY=t.shadowOffsetY,i.shadowBlur=t.shadowBlur,i.shadowStroke=!0,i.shadowFill=!0):(i.shadowColor=e.shadow,i.shadowOffsetX=t.shadowOffsetX,i.shadowOffsetY=t.shadowOffsetY,i.shadowBlur=t.shadowBlur,i.shadowStroke=!0,i.shadowFill=!0):(i.shadowColor="#000",i.shadowOffsetX=0,i.shadowOffsetY=0,i.shadowBlur=0,i.shadowStroke=!1,i.shadowFill=!1),e.hasOwnProperty("u")?!0===e.u?(i.underlineColor=t.underlineColor,i.underlineThickness=t.underlineThickness,i.underlineOffset=t.underlineOffset):(i.underlineColor=e.u,i.underlineThickness=t.underlineThickness,i.underlineOffset=t.underlineOffset):(i.underlineColor="#000",i.underlineThickness=0,i.underlineOffset=0),e.hasOwnProperty("s")?!0===e.s?(i.strikethroughColor=t.strikethroughColor,i.strikethroughThickness=t.strikethroughThickness,i.strikethroughOffset=t.strikethroughOffset):(i.strikethroughColor=e.s,i.strikethroughThickness=t.strikethroughThickness,i.strikethroughOffset=t.strikethroughOffset):(i.strikethroughColor="#000",i.strikethroughThickness=0,i.strikethroughOffset=0),i},propToTagText:function(t,e,i){null==i&&(i=Vt);var n=this.delimiters[0],r=this.delimiters[1],s=[];for(var a in i)e.hasOwnProperty(a)||s.push("".concat(n,"/").concat(a).concat(r));for(var a in e){var o=e[a];if(i[a]!==o)switch(a){case"size":s.push("".concat(n,"size=").concat(o.replace("px","")).concat(r));break;case"color":case"weight":case"stroke":case"y":case"img":case"area":case"url":case"align":s.push("".concat(n).concat(a,"=").concat(o).concat(r));break;case"u":case"s":!0===o?s.push("".concat(n).concat(a).concat(r)):s.push("".concat(n).concat(a,"=").concat(o).concat(r));break;default:s.push("".concat(n).concat(a).concat(r));}}return s.push(t),s.join("")}};return Object.assign(oe.prototype,he),function(t){r(s,t);var i=h(s);function s(t,n,r,a,o){e(this,s);var h=new oe(o);return i.call(this,t,n,r,a,o,"rexBBCodeText",h)}return n(s,[{key:"setDelimiters",value:function(t,e){return this.parse.setDelimiters(t,e),this}}]),s}(Ht)}));
