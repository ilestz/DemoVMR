!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).rexstatesroundrectangle=e();}(undefined,(function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(n=r.key,s=void 0,"symbol"==typeof(s=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return ("string"===e?String:Number)(t)}(n,"string"))?s:String(s)),r);}var n,s;}function i(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e);}function n(t){return n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},n(t)}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}function o(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return !1;if(Reflect.construct.sham)return !1;if("function"==typeof Proxy)return !0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return !1}}();return function(){var i,r=n(t);if(e){var s=n(this).constructor;i=Reflect.construct(r,arguments,s);}else i=r.apply(this,arguments);return o(this,i)}}var u=Phaser.Utils.Objects.GetValue,h=function(){function e(i,r,n,s,o){t(this,e),void 0===i&&(i=0),void 0===r&&(r=i),void 0===n&&(n=0),void 0===s&&(s=0),void 0===o&&(o=0),this.cornerRadius={},this._width=0,this._height=0,this.setTo(i,r,n,s,o);}return i(e,[{key:"setTo",value:function(t,e,i,r,n){return this.setPosition(t,e),this.setRadius(n),this.setSize(i,r),this}},{key:"setPosition",value:function(t,e){return this.x=t,this.y=e,this}},{key:"setRadius",value:function(t){return void 0===t&&(t=0),this.radius=t,this}},{key:"setSize",value:function(t,e){return this.width=t,this.height=e,this}},{key:"minWidth",get:function(){var t=this.cornerRadius;return Math.max(t.tl.x+t.tr.x,t.bl.x+t.br.x)}},{key:"minHeight",get:function(){var t=this.cornerRadius;return Math.max(t.tl.y+t.bl.y,t.tr.y+t.br.y)}},{key:"width",get:function(){return this._width},set:function(t){null==t&&(t=0),this._width=Math.max(t,this.minWidth);}},{key:"height",get:function(){return this._height},set:function(t){null==t&&(t=0),this._height=Math.max(t,this.minHeight);}},{key:"radius",get:function(){var t=this.cornerRadius;return Math.max(t.tl.x,t.tl.y,t.tr.x,t.tr.y,t.bl.x,t.bl.y,t.br.x,t.br.y)},set:function(t){var e,i;"number"==typeof t?(e=t,i=t):(e=u(t,"x",0),i=u(t,"y",0));var r=this.cornerRadius;r.tl=l(u(t,"tl",void 0),e,i),r.tr=l(u(t,"tr",void 0),e,i),r.bl=l(u(t,"bl",void 0),e,i),r.br=l(u(t,"br",void 0),e,i);}},{key:"radiusTL",get:function(){var t=this.cornerRadius.tl;return Math.max(t.x,t.y)},set:function(t){c(this.cornerRadius.tl,t);}},{key:"radiusTR",get:function(){var t=this.cornerRadius.tr;return Math.max(t.x,t.y)},set:function(t){c(this.cornerRadius.tr,t);}},{key:"radiusBL",get:function(){var t=this.cornerRadius.bl;return Math.max(t.x,t.y)},set:function(t){c(this.cornerRadius.bl,t);}},{key:"radiusBR",get:function(){var t=this.cornerRadius.br;return Math.max(t.x,t.y)},set:function(t){c(this.cornerRadius.br,t);}}]),e}(),l=function(t,e,i){return void 0===t?t={x:e,y:i}:"number"==typeof t&&(t={x:t,y:t}),f(t),t},c=function(t,e){"number"==typeof e?(t.x=e,t.y=e):(t.x=u(e,"x",0),t.y=u(e,"y",0)),f(t);},f=function(t){t.convex=t.x>=0||t.y>=0,t.x=Math.abs(t.x),t.y=Math.abs(t.y);},d=function(t,e,i){var r=i.length;if(r>=2){var n=i[r-2],s=i[r-1];if(t===n&&e===s)return i}return i.push(t,e),i},y=Phaser.Math.DegToRad,v=function(t,e,i,r,n,s,o,a,u){o&&s>n?s-=360:!o&&s<n&&(s+=360);var h=y(s-n)/a;n=y(n);for(var l=0;l<=a;l++){var c=n+h*l,f=t+i*Math.cos(c),v=e+r*Math.sin(c);d(f,v,u);}return u},p=Phaser.Renderer.WebGL.Utils,g=Phaser.Renderer.WebGL.Utils,b=Phaser.GameObjects.GetCalcMatrix,k=Phaser.Renderer.Canvas.SetTransform,x={renderWebGL:function(t,e,i,r){e.dirty&&(e.updateData(),e.dirty=!1),i.addToRenderList(e);var n=t.pipelines.set(e.pipeline),s=b(e,i,r),o=n.calcMatrix.copyFrom(s.calc),a=e._displayOriginX,u=e._displayOriginY,h=i.alpha*e.alpha;t.pipelines.preBatch(e),e.isFilled&&function(t,e,i,r,n,s){for(var o=p.getTintAppendFloatAlpha(i.fillColor,i.fillAlpha*r),a=i.pathData,u=i.pathIndexes,h=0;h<u.length;h+=3){var l=2*u[h],c=2*u[h+1],f=2*u[h+2],d=a[l+0]-n,y=a[l+1]-s,v=a[c+0]-n,g=a[c+1]-s,b=a[f+0]-n,k=a[f+1]-s,x=e.getX(d,y),S=e.getY(d,y),m=e.getX(v,g),R=e.getY(v,g),_=e.getX(b,k),T=e.getY(b,k);t.batchTri(i,x,S,m,R,_,T,0,0,1,1,o,o,o,2);}}(n,o,e,h,a,u),e.isStroked&&function(t,e,i,r,n){var s=t.strokeTint,o=g.getTintAppendFloatAlpha(e.strokeColor,e.strokeAlpha*i);s.TL=o,s.TR=o,s.BL=o,s.BR=o;var a=e.pathData,u=a.length-1,h=e.lineWidth,l=h/2,c=a[0]-r,f=a[1]-n;e.closePath||(u-=2);for(var d=2;d<u;d+=2){var y=a[d]-r,v=a[d+1]-n;t.batchLine(c,f,y,v,l,l,h,d-2,!!e.closePath&&d===u-1),c=y,f=v;}}(n,e,h,a,u),t.pipelines.postBatch(e);},renderCanvas:function(t,e,i,r){e.dirty&&(e.updateData(),e.dirty=!1),i.addToRenderList(e);var n=t.currentContext;if(k(t,n,e,i,r)){var s=e._displayOriginX,o=e._displayOriginY,a=e.pathData,u=a.length-1,h=a[0]-s,l=a[1]-o;n.beginPath(),n.moveTo(h,l),e.closePath||(u-=2);for(var c=2;c<u;c+=2){var f=a[c]-s,d=a[c+1]-o;n.lineTo(f,d);}n.closePath(),e.isFilled&&(!function(t,e,i,r){var n=i||e.fillColor,s=r||e.fillAlpha,o=(16711680&n)>>>16,a=(65280&n)>>>8,u=255&n;t.fillStyle="rgba("+o+","+a+","+u+","+s+")";}(n,e),n.fill()),e.isStroked&&(!function(t,e,i,r){var n=i||e.strokeColor,s=r||e.strokeAlpha,o=(16711680&n)>>>16,a=(65280&n)>>>8,u=255&n;t.strokeStyle="rgba("+o+","+a+","+u+","+s+")",t.lineWidth=e.lineWidth;}(n,e),n.stroke()),n.restore();}}},S=Phaser.GameObjects.Shape,m=Phaser.Utils.Objects.IsPlainObject,R=Phaser.Utils.Objects.GetValue,_=Phaser.Geom.Polygon.Earcut,T=function(e){r(s,e);var n=a(s);function s(e,i,r,o,a,u,l,c){var f,d,y,v,p;if(t(this,s),m(i)){var g=i;i=g.x,r=g.y,o=g.width,a=g.height,u=g.radius,l=g.color,c=g.alpha,d=g.strokeColor,y=g.strokeAlpha,v=g.strokeWidth,p=g.shape;}void 0===i&&(i=0),void 0===r&&(r=0),void 0===o&&(o=1),void 0===a&&(a=o),void 0===u&&(u=0),void 0===p&&(p=0);var b=new h;if((f=n.call(this,e,"rexRoundRectangleShape",b)).setShapeType(p),0===f.shapeType){var k=R(u,"radius",u);b.setTo(0,0,o,a,k);}else {k={x:o/2,y:a/2};b.setTo(0,0,o,a,k);}var x=R(u,"iteration",void 0);return f.setIteration(x),f.setPosition(i,r),f.setFillStyle(l,c),void 0!==d&&void 0===v&&(v=2),f.setStrokeStyle(v,d,y),f.updateDisplayOrigin(),f.dirty=!0,f}return i(s,[{key:"fillColor",get:function(){return this._fillColor},set:function(t){this._fillColor=t,this.isFilled=null!=t&&this._fillAlpha>0;}},{key:"fillAlpha",get:function(){return this._fillAlpha},set:function(t){this._fillAlpha=t,this.isFilled=t>0&&null!=this._fillColor;}},{key:"setFillStyle",value:function(t,e){return void 0===e&&(e=1),this.fillColor=t,this.fillAlpha=e,this}},{key:"strokeColor",get:function(){return this._strokeColor},set:function(t){this._strokeColor=t,this.isStroked=null!=t&&this._strokeAlpha>0&&this._lineWidth>0;}},{key:"strokeAlpha",get:function(){return this._strokeAlpha},set:function(t){this._strokeAlpha=t,this.isStroked=t>0&&null!=this._strokeColor&&this._lineWidth>0;}},{key:"lineWidth",get:function(){return this._lineWidth},set:function(t){this._lineWidth=t,this.isStroked=t>0&&null!=this._strokeColor;}},{key:"setStrokeStyle",value:function(t,e,i){return void 0===i&&(i=1),this.lineWidth=t,this.strokeColor=e,this.strokeAlpha=i,this}},{key:"updateData",value:function(){var t=this.geom,e=this.pathData;e.length=0;var i,r=t.width,n=t.height,s=t.cornerRadius,o=this.iteration+1;if(i=s.tl,O(i))if(i.convex){var a=i.x,u=i.y;v(a,u,i.x,i.y,180,270,!1,o,e);}else {v(a=0,u=0,i.x,i.y,90,0,!0,o,e);}else d(0,0,e);if(i=s.tr,O(i))if(i.convex){a=r-i.x,u=i.y;v(a,u,i.x,i.y,270,360,!1,o,e);}else {v(a=r,u=0,i.x,i.y,180,90,!0,o,e);}else d(r,0,e);if(i=s.br,O(i))if(i.convex){a=r-i.x,u=n-i.y;v(a,u,i.x,i.y,0,90,!1,o,e);}else {v(a=r,u=n,i.x,i.y,270,180,!0,o,e);}else d(r,n,e);if(i=s.bl,O(i))if(i.convex){a=i.x,u=n-i.y;v(a,u,i.x,i.y,90,180,!1,o,e);}else {v(a=0,u=n,i.x,i.y,360,270,!0,o,e);}else d(0,n,e);return e.push(e[0],e[1]),this.pathIndexes=_(e),this}},{key:"setShapeType",value:function(t){return "string"==typeof t&&(t=P[t]),this.shapeType=t,this}},{key:"width",get:function(){return this.geom.width},set:function(t){this.resize(t,this.height);}},{key:"height",get:function(){return this.geom.height},set:function(t){this.resize(this.width,t);}},{key:"setSize",value:function(t,e){if(void 0===e&&(e=t),this.geom.width===t&&this.geom.height===e)return this;this.geom.setSize(t,e),1===this.shapeType&&this.setRadius({x:t/2,y:e/2}),this.updateDisplayOrigin(),this.dirty=!0;var i=this.input;return i&&!i.customHitArea&&(i.hitArea.width=t,i.hitArea.height=e),this}},{key:"resize",value:function(t,e){return this.setSize(t,e),this}},{key:"radius",get:function(){return this.geom.radius},set:function(t){this.geom.setRadius(t),this.updateDisplayOrigin(),this.dirty=!0;}},{key:"radiusTL",get:function(){return this.geom.radiusTL},set:function(t){this.geom.radiusTL=t,this.dirty=!0;}},{key:"radiusTR",get:function(){return this.geom.radiusTR},set:function(t){this.geom.radiusTR=t,this.dirty=!0;}},{key:"radiusBL",get:function(){return this.geom.radiusBL},set:function(t){this.geom.radiusBL=t,this.dirty=!0;}},{key:"radiusBR",get:function(){return this.geom.radiusBR},set:function(t){this.geom.radiusBR=t,this.dirty=!0;}},{key:"setRadius",value:function(t){return void 0===t&&(t=0),this.radius=t,this}},{key:"setRadiusTL",value:function(t){return void 0===t&&(t=0),this.radiusTL=t,this}},{key:"setRadiusTR",value:function(t){return void 0===t&&(t=0),this.radiusTR=t,this}},{key:"setRadiusBL",value:function(t){return void 0===t&&(t=0),this.radiusBL=t,this}},{key:"setRadiusBR",value:function(t){return void 0===t&&(t=0),this.radiusBR=t,this}},{key:"cornerRadius",get:function(){return this.geom.cornerRadius},set:function(t){this.radius=t;}},{key:"setCornerRadius",value:function(t){return this.setRadius(t)}},{key:"iteration",get:function(){return this._iteration},set:function(t){void 0!==this._iteration?this._iteration!==t&&(this._iteration=t,this.dirty=!0):this._iteration=t;}},{key:"setIteration",value:function(t){return void 0===t&&(t=6),this.iteration=t,this}}]),s}(S),O=function(t){return t.x>0&&t.y>0},P={rectangle:0,circle:1};Object.assign(T.prototype,x);var w=function(t,e,i){var r=function(t,e,i,r){if(void 0===i&&(i="."),void 0===r&&(r={}),!t)return r;if(e in t)return Object.assign(r,t[e]);for(var n in e+=i,t)n.startsWith(e)&&(r[n.replace(e,"")]=t[n]);return r}(t,e);if(i)for(var n in r)i.hasOwnProperty(n)&&(r[i[n]]=r[n],delete r[n]);return r},A=function(t,e){if(e){var i=function(t,e,i){if(void 0===i&&(i={}),Array.isArray(e))for(var r=0,n=e.length;r<n;r++)i[s=e[r]]=t[s];else for(var s in e)i[s]=t[s];return i}(t,e);return function(t,e){for(var i in t){if(!(i in e))return !1;if(t[i]!==e[i])return !1}for(var i in e)if(!(i in t))return !1;return !0}(i,e)?void 0:(t.modifyStyle(e),i)}},j={setActiveState:function(t){return void 0===t&&(t=!0),this.activeState===t||(this.activeState=t,t?this.activeStyleSave=A(this,this.activeStyle):(A(this,this.activeStyleSave),this.activeStyleSave=void 0)),this},setHoverState:function(t){return void 0===t&&(t=!0),this.hoverState===t||(this.hoverState=t,t?this.hoverStyleSave=A(this,this.hoverStyle):(A(this,this.hoverStyleSave),this.hoverStyleSave=void 0)),this},setDisableState:function(t){return void 0===t&&(t=!0),this.disableState===t||(this.disableState=t,t?this.disableStyleSave=A(this,this.disableStyle):(A(this,this.disableStyleSave),this.disableStyleSave=void 0)),this}},C=function(e){r(s,e);var n=a(s);function s(e,i){var r;return t(this,s),void 0===i&&(i={}),(r=n.call(this,e,i)).activeStyle=w(i,"active",L),r.hoverStyle=w(i,"hover",L),r.disableStyle=w(i,"disable",L),r}return i(s,[{key:"modifyStyle",value:function(t){for(var e in t)this[e]=t[e];return this}}]),s}(T),L={color:"fillColor",alpha:"fillAlpha",strokeWidth:"lineWidth"};return Object.assign(C.prototype,j),C}));
